/*
 *  g-open-soccer - v1.0.0beta
 *  Sportsopendata.net API interface jQuery plugin
 *  https://github.com/Gix075/gOpenSoccer
 *
 *  Made by Gix075 <gildo.giuliani@gmail.com> (https://github.com/Gix075)
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="gOpenSoccer_getStandings",g={apiBaseURL:"http://soccer.sportsopendata.net/v1/leagues/",season:"15-16",league:"serie-a",view:"simple",template:"table",debug:!1};a.extend(e.prototype,{init:function(){var a=this;switch(this.settings.get){case"standings":this.getStandings(a);break;case"stats":this.getStandings(a)}this.getStandings(a,!1)},getStandings:function(b,c){a.ajax({url:b.settings.apiBaseURL+b.settings.league+"/seasons/"+b.settings.season+"/standings",dataType:"json",success:function(d){a(b.element).html(b.getStandingsTemplate(b,d,c))},error:function(){b.settings.debug===!0&&console.log("getStandings => AJAXERROR!")}})},getStandingsTemplate:function(b,c,d){var e,f=c.data.standings,g=this.utils_switchDomEl(b.settings.template);return a.each(f,function(a,c){d!==!1&&c.team!==d||(e+="<"+g.row_open+">",e+="     <"+g.col_open+">"+c.position+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.team+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.overall.points+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.overall.matches_played+"<"+g.col_close+">","advanced"!==b.settings.view&&"extended"!==b.settings.view&&"full"!==b.settings.view||(e+="     <"+g.col_open+">"+c.overall.wins+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.overall.draws+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.overall.losts+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.overall.scores+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.overall.conceded+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.overall.goal_difference+"<"+g.col_close+">"),"extended"!==b.settings.view&&"full"!==b.settings.view||(e+="     <"+g.col_open+">"+c.home.wins+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.home.draws+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.home.losts+"<"+g.col_close+">"),"full"===b.settings.view&&(e+="     <"+g.col_open+">"+c.home.scores+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.home.conceded+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.home.goal_difference+"<"+g.col_close+">"),"extended"!==b.settings.view&&"full"!==b.settings.view||(e+="     <"+g.col_open+">"+c.away.wins+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.away.draws+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.away.losts+"<"+g.col_close+">"),"full"===b.settings.view&&(e+="     <"+g.col_open+">"+c.away.scores+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.away.conceded+"<"+g.col_close+">",e+="     <"+g.col_open+">"+c.away.goal_difference+"<"+g.col_close+">"),e+="<"+g.row_close+">")}),e},utils_switchDomEl:function(a){var b={row_open:"",row_close:"",col_open:"",col_close:""};switch(a){case"table":b.row_open="tr",b.row_close="/tr",b.col_open="td",b.col_close="/td";break;case"tableless":b.row_open='div class="soccerstats_standings-row"',b.row_close="/div",b.col_open='div class="soccerstats_standings-col"',b.col_close="/div"}return b}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);